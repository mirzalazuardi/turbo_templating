<div class="mb-4">
  <% html = { class: "mb-2 flex space-x-2" } %>
  <% html[:data] = { turbo: true, turbo_frame: @result_frame_id } if @result_frame_id.present? %>
  <%= search_form_for @ransack, url: request.path, method: :get, html: html do |f| %>
    <% @columns.each do |col| %>
      <%= f.label search_field_name(col), class: "sr-only" %>
      <%= f.search_field search_field_name(col), placeholder: col.to_s.humanize, class: "shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-full sm:text-sm border-gray-300 rounded-md" %>
    <% end %>
    <%= f.submit "Search", class: "ml-2 px-4 py-2 bg-blue-600 text-white rounded" %>
  <% end %>
</div>
<table class="min-w-full divide-y divide-gray-200 mb-4">
  <thead class="bg-gray-50">
    <tr>
      <% @columns.each do |col| %>
        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
          <%= sort_link(@ransack, col, col.to_s.humanize) %>
        </th>
      <% end %>
    </tr>
  </thead>
  <tbody class="bg-white divide-y divide-gray-200">
    <% @records.each do |record| %>
      <tr>
        <% @columns.each do |col| %>
          <td class="px-6 py-4 whitespace-nowrap"><%= record.send(col) %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
<div>
  <%== pagy_nav(@pagy) if @pagy %>
</div>
